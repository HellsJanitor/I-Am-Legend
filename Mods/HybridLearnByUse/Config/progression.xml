
<configs>
	<!-- remove all perks that have a respective Learn-by-use skill -->
	<!--xml code order is important - all perks put back where they are removed from-->
	<!-- remove perkMiner69r -->
	<remove xpath="/progression/perks/perk[@name='perkMiner69r']"/>
	<!-- remove perkMotherLode -->
	<remove xpath="/progression/perks/perk[@name='perkMotherLode']"/>
	<remove xpath="//skill[@name='skillStrengthConstruction']"/>
	<!-- remove perkDemolitionsExpert -->
	<remove xpath="/progression/perks/perk[@name='perkDemolitionsExpert']"/>
	<!-- remove perkDeadEye -->
	<remove xpath="/progression/perks/perk[@name='perkDeadEye']"/>
	<!-- remove perkJavelinMaster -->
	<remove xpath="/progression/perks/perk[@name='perkJavelinMaster']"/>
	<!-- remove perkBoomstick -->
	<remove xpath="/progression/perks/perk[@name='perkBoomstick']"/>
	<!-- remove perkPummelPete -->
	<remove xpath="/progression/perks/perk[@name='perkPummelPete']"/>
	<!-- remove perkSkullCrusher -->
	<remove xpath="/progression/perks/perk[@name='perkSkullCrusher']"/>
	<!-- remove perkBrawler -->
	<remove xpath="/progression/perks/perk[@name='perkBrawler']"/>
	<!-- remove perkMachineGunner -->
	<remove xpath="/progression/perks/perk[@name='perkMachineGunner']"/>
	<!-- remove perkArchery -->
	<remove xpath="/progression/perks/perk[@name='perkArchery']"/>
	<!-- remove perkGunslinger -->
	<remove xpath="/progression/perks/perk[@name='perkGunslinger']"/>
	<!-- remove perkDeepCuts -->
	<remove xpath="/progression/perks/perk[@name='perkDeepCuts']"/>
	<!-- remove perkTurrets -->
	<remove xpath="/progression/perks/perk[@name='perkTurrets']"/>
	<!-- remove perkElectrocutioner -->
	<remove xpath="/progression/perks/perk[@name='perkElectrocutioner']"/>
	<!-- remove perkSalvageOperations -->
	<remove xpath="/progression/perks/perk[@name='perkSalvageOperations']"/>
	<!-- remove perkDaringAdventurer -->
	<remove xpath="/progression/perks/perk[@name='perkDaringAdventurer']"/>
	<!-- remove perkBetterBarter -->
	<remove xpath="/progression/perks/perk[@name='perkBetterBarter']"/>
	
	<!-- add stamina loss bonus to "flurry of ..." perks -->
	<set xpath="//perk[@name='perkFlurryOfPerception']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@value">3</set>
	<set xpath="//perk[@name='perkFlurryOfPerception']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@desc_key">reqPerceptionLevel03</set>
	<insertafter xpath="//perk[@name='perkFlurryOfPerception']/effect_group/passive_effect[@name='AttacksPerMinute']">
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.08,-.15,-.25"/>
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.07,-.15,-.25" tags="secondary"/>
	</insertafter>
	
	<set xpath="//perk[@name='perkFlurryOfStrength']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@value">3</set>
	<set xpath="//perk[@name='perkFlurryOfStrength']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@desc_key">reqStrengthLevel03</set>
	<insertafter xpath="//perk[@name='perkFlurryOfStrength']/effect_group/passive_effect[@name='AttacksPerMinute']">
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.08,-.15,-.25"/>
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.07,-.15,-.25" tags="secondary"/>
	</insertafter>
	
	<set xpath="//perk[@name='perkFlurryOfFortitude']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@value">3</set>
	<set xpath="//perk[@name='perkFlurryOfFortitude']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@desc_key">reqFortitudeLevel03</set>
	<insertafter xpath="//perk[@name='perkFlurryOfFortitude']/effect_group/passive_effect[@name='AttacksPerMinute']">
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.08,-.15,-.25"/>
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.07,-.15,-.25" tags="secondary"/>
	</insertafter>
	
	<set xpath="//perk[@name='perkFlurryOfAgility']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@value">3</set>
	<set xpath="//perk[@name='perkFlurryOfAgility']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@desc_key">reqAgilityLevel03</set>
	<insertafter xpath="//perk[@name='perkFlurryOfAgility']/effect_group/passive_effect[@name='AttacksPerMinute']">
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.08,-.15,-.25"/>
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.07,-.15,-.25" tags="secondary"/>
	</insertafter>
	
	<set xpath="//perk[@name='perkFlurryOfIntellect']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@value">3</set>
	<set xpath="//perk[@name='perkFlurryOfIntellect']/level_requirements[@level='1']/requirement[@name='ProgressionLevel']/@desc_key">reqIntellectLevel03</set>
	<insertafter xpath="//perk[@name='perkFlurryOfStrength']/effect_group/passive_effect[@name='AttacksPerMinute']">
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.08,-.15,-.25"/>
		<passive_effect name="StaminaLoss" operation="perc_add" level="1,2,3" value="-.07,-.15,-.25" tags="secondary"/>
	</insertafter>
	
	<!-- increase points cost for remaining perks -->
	<setattribute xpath="//perks" name="base_skill_point_cost">2</setattribute>

	<!-- -see also Xui/windows.xml and localization text-->
	<!--begin Learn by use ALL code-->
	
	<insertBefore xpath="/progression/attributes/attribute[@name='attPerception']">
		<attribute name="LearnByUse" name_key="LearnByUseName" desc_key="LearnByUseDesc" min_level="0" max_level="0" base_skill_point_cost="0" icon="ui_game_symbol_perk">
			<effect_group/><!--will add globals here to easliy adjust learning curve (xp per level) in the next release-->
		</attribute>
	</insertBefore>
	
	<append xpath="/progression/skills">
		<skill name="lbu_PerceptionSkills" parent="LearnByUse" name_key="attPerceptionName" desc_key="attPerceptionName" icon="ui_game_symbol_stealth">
			<effect_group/>
		</skill>
		<skill name="lbu_StrengthSkills" parent="LearnByUse" name_key="attStrengthName" desc_key="attStrengthName" icon="ui_game_symbol_muscle">
			<effect_group/>
		</skill>
		<skill name="lbu_FortitudeSkills" parent="LearnByUse" name_key="attFortitudeName" desc_key="attFortitudeName" icon="ui_game_symbol_add">
			<effect_group/>
		</skill>
		<skill name="lbu_AgilitySkills" parent="LearnByUse" name_key="attAgilityName" desc_key="attAgilityName" icon="ui_game_symbol_agility">
			<effect_group/>
		</skill>
		<skill name="lbu_IntellectSkills" parent="LearnByUse" name_key="attIntellectName" desc_key="attIntellectName" icon="ui_game_symbol_intellect">
			<effect_group/>
		</skill>
	</append>

	<!--begin Learn-By-Use SKILL code -->
	<append xpath="/progression/perks">

		<!-- begin DeadEye Learn By Use (lbu)-->
		<perk name="lbu_DeadEye" max_level="100" parent="lbu_PerceptionSkills" base_skill_point_cost="0" name_key="lbu_DeadEyeName" desc_key="lbu_DeadEyeDesc" long_desc_key="lbu_DeadEyeDesc" icon="ui_game_symbol_map_cursor">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDeadEye"/>
				<requirement name="CVarCompare" cvar="lbu_DeadEye_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeadEye" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DeadEye_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDeadEye"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,0.5" level="1,100" tags="perkDeadEye"/>
				<passive_effect name="WeaponHandling" operation="perc_add" value=".01,0.6" level="1,100" tags="perkDeadEye"/>
				<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value="0.01,0.3" level="1,100" tags="perkDeadEye"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDeadEye"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeadEye" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DeadEye_XP" operation="add" value="10">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_DeadEye_XP" operation="add" value="24"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDeadEye"/>
				<requirement name="CVarCompare" cvar="lbu_DeadEye_XP" operation="GTE" value="@lbu_DeadEye_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeadEye" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DeadEye_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_DeadEye" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DeadEye_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_DeadEye" level="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Dead Eye Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_DeadEye" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<requirement name="ItemHasTags" tags="perkDeadEye"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeadEye" operation="GTE" value="60"/>
				<triggered_effect trigger="onSelfKilledOther" action="AddBuff" buff="buffDeadEye"/>
				<!-- aiming stamina buff in buffHoldBreathAiming01 -->
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find rifles and ammo with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="rifleSkill"/>
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="ammo762mm"/>

				<!-- Increase the chance to find rifle crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="riflesCSM">
					<requirement name="ProgressionLevel" progression_name="craftingRifles" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once rifle crafting skill reaches 100, set the probability bonus of finding rifle crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="riflesCSM">
					<requirement name="ProgressionLevel" progression_name="craftingRifles" operation="Equals" value="100"/>
				</passive_effect>

				<!-- Increase the chance to find Sniper books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="sniperProb">
					<requirement name="ProgressionLevel" progression_name="perkSniperComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Sniper books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="sniperProb">
					<requirement name="ProgressionLevel" progression_name="perkSniperComplete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>
		</perk>
		<!-- end begin DeadEye Learn By Use (lbu)-->
		
		<!-- begin Demolitions Expert Learn By Use (lbu)-->
		<perk name="lbu_DemolitionsExpert" max_level="100" parent="lbu_PerceptionSkills" base_skill_point_cost="0" name_key="lbu_DemolitionsExpertName" desc_key="lbu_DemolitionsExpertDesc" long_desc_key="lbu_DemolitionsExpertDesc" icon="ui_game_symbol_explosion">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDemolitionsExpert"/>
				<requirement name="CVarCompare" cvar="lbu_DemolitionsExpert_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<effect_group>
				<requirement name="ItemHasTags" tags="perkDemolitionsExpert"/>
				<requirement name="CVarCompare" cvar="lbu_DemolitionsExpert_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDemolitionsExpert"/>
				<passive_effect name="DismemberChance" operation="base_add" level="20,40,60,80,100" value=".05,.1,.2,.3,.45" tags="perkDemolitionsExpert"/>
				<passive_effect name="BlockDamage" operation="perc_add" level="1,100" value="0,.5" tags="perkDemolitionsExpert"/>
				<passive_effect name="EntityDamage" operation="perc_add" level="1,100" value="0,.5" tags="perkDemolitionsExpert"/>
				<passive_effect name="WeaponHandling" operation="perc_add" level="1,100" value="0.1,0.5" tags="perkDemolitionsExpert"/>
				<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" level="1,100" value="0.15,0.35" tags="perkDemolitionsExpert"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDemolitionsExpert"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XP" operation="add" value="10">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XP" operation="add" value="24"/>
			</effect_group>
			
			<effect_group>
				<requirement name="ItemHasTags" tags="perkDemolitionsExpert"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XP" operation="add" value="20">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XP" operation="add" value="48"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDemolitionsExpert"/>
				<requirement name="CVarCompare" cvar="lbu_DemolitionsExpert_XP" operation="GTE" value="@lbu_DemolitionsExpert_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_DemolitionsExpert" level="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Demolitions Expert Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkDemolitionsExpert"/>
				<requirement name="CVarCompare" cvar="lbu_DemolitionsExpert_XP" operation="GTE" value="@lbu_DemolitionsExpert_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfExplosionDamagedOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfExplosionDamagedOther" action="ModifyCVar" cvar="lbu_DemolitionsExpert_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfExplosionDamagedOther" action="AddProgressionLevel" progression_name="lbu_DemolitionsExpert" level="1"/>
				<triggered_effect trigger="onSelfExplosionDamagedOther" action="ShowToolbeltMessage" message="Demolitions Expert Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfExplosionDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_DemolitionsExpert" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find explosives with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="explosivesSkill"/>

				<!-- Increase the chance to find explosive crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="explosivesCSM">
					<requirement name="ProgressionLevel" progression_name="craftingExplosives" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once explosive crafting skill reaches 100, set the probability bonus of finding explosive crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="explosivesCSM">
					<requirement name="ProgressionLevel" progression_name="craftingExplosives" operation="Equals" value="100"/>
				</passive_effect>
			</effect_group>
		</perk>
		<!-- end begin Demolitions Expert Learn By Use (lbu)-->
		
		<!-- begin Spear Master Learn By Use (lbu)-->
		<perk name="lbu_SpearMaster" max_level="100" parent="lbu_PerceptionSkills" base_skill_point_cost="0" name_key="lbu_SpearMasterName" desc_key="lbu_SpearMasterDesc" long_desc_key="lbu_SpearMasterDesc" icon="ui_game_symbol_spear">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkJavelinMaster"/>
				<requirement name="CVarCompare" cvar="lbu_SpearMaster_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SpearMaster_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkJavelinMaster"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,1" level="1,100" tags="perkJavelinMaster"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,.5" level="1,100" tags="perkJavelinMaster"/>

				<passive_effect name="StaminaLoss" operation="perc_add" value="-.08,-.11,-.15,-,17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="primary"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.07,-.11,-.15,-.17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="secondary"/>
					
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="10" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LT" value="80"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="20" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LT" value="100"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="30" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="Equals" value="100"/>
				</triggered_effect>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkJavelinMaster"/>
				<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SpearMaster_XP" operation="add" value="6">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_SpearMaster_XP" operation="add" value="18"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkJavelinMaster"/>
				<requirement name="CVarCompare" cvar="lbu_SpearMaster_XP" operation="GTE" value="@lbu_SpearMaster_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SpearMaster_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LTE" value="46"/>
				</triggered_effect>
					
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SpearMaster_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_SpearMaster" level="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Spearmaster Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<requirement name="ItemHasTags" tags="perkJavelinMaster"/>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffInjuryCrippled01">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="GTE" value="5"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LT" value="15"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffInjuryCrippled01">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="GTE" value="15"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LT" value="25"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="40"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffInjuryCrippled01">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="GTE" value="25"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LT" value="35"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="60"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffInjuryCrippled01">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="GTE" value="35"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="LT" value="45"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="80"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffInjuryCrippled01">
					<requirement name="ProgressionLevel" progression_name="lbu_SpearMaster" operation="GTE" value="45"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find spears with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="spearSkill"/>

				<!-- Increase the chance to find spear crafting skill magazines with each perk rank up to crafting skill 75 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="spearsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingSpears" operation="LT" value="75"/>
				</passive_effect>

				<!-- Once spear crafting skill reaches 75, set the probability bonus of finding spear crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="2,100" value="1,1" tags="spearsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingSpears" operation="Equals" value="75"/>
				</passive_effect>

				<!-- Increase the chance to find Spear Hunter books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="spearHunterProb">
					<requirement name="ProgressionLevel" progression_name="perkSpearHunter8Complete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Spear Hunter books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="spearHunterProb">
					<requirement name="ProgressionLevel" progression_name="perkSpearHunter8Complete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>
		</perk>
		<!-- end Spear Master Learn By Use (lbu)-->
		
		<!-- begin Salvage Operations Learn By Use (lbu)-->
		<perk name="lbu_Salvage" max_level="100" parent="lbu_PerceptionSkills" base_skill_point_cost="0" name_key="lbu_SalvageName" desc_key="lbu_SalvageDesc" long_desc_key="lbu_SalvageDesc" icon="ui_game_symbol_scrap">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkSalvageOperations"/>
				<requirement name="CVarCompare" cvar="lbu_Salvage_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Salvage" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedBlock" action="ModifyCVar" cvar="lbu_Salvage_XPIncrement" operation="set" value="500"/>
				<requirement name="CVarCompare" cvar="lbu_Salvage_XP" operation="LTE" value="0"/>
			</effect_group>
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkSalvageOperations"/>
				<passive_effect name="CraftingTime" operation="perc_add" value="-0.05,-.5" level="1,100" tags="salvageScrap"/><!-- does not work on scrapping -->
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,1" level="1,100" tags="perkSalvageOperations"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,0.5" level="1,100" tags="perkSalvageOperations"/>
				<passive_effect name="HarvestCount" operation="perc_add" value=".01,1" level="1,100" tags="salvageHarvest"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.08,-.11,-.15,-,17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="primary"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.07,-.11,-.15,-.17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="secondary"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkSalvageOperations"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Salvage" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedBlock" action="ModifyCVar" cvar="lbu_Salvage_XP" operation="add" value="12"/>
				<!-- add additional damage for destruction-->
				<triggered_effect trigger="onSelfDestroyedBlock" action="ModifyCVar" cvar="lbu_Salvage_XP" operation="add" value="20"/>
			</effect_group>

			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkSalvageOperations"/>
				<requirement name="CVarCompare" cvar="lbu_Salvage_XP" operation="GTE" value="@lbu_Salvage_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Salvage" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedBlock" action="ModifyCVar" cvar="lbu_Salvage_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_Salvage" operation="LTE" value="46"/>
				</triggered_effect>
					
				<triggered_effect trigger="onSelfDamagedBlock" action="ModifyCVar" cvar="lbu_Salvage_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedBlock" action="AddProgressionLevel" progression_name="lbu_Salvage" level="1"/>
				<triggered_effect trigger="onSelfDamagedBlock" action="ShowToolbeltMessage" message="Salvage Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedBlock" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_Salvage" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find salvage tools with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="salvagingSkill"/>

				<!-- Increase the chance to find salvage tools crafting skill magazines with each perk rank up to crafting skill 75 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="salvageToolsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingSalvageTools" operation="LT" value="75"/>
				</passive_effect>

				<!-- Once salvage tools crafting skill reaches 75, set the probability bonus of finding salvage tools crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="salvageToolsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingSalvageTools" operation="Equals" value="75"/>
				</passive_effect>
				
				<!-- Increase the chance to find Wasteland Treasures books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="wastelandProb">
					<requirement name="ProgressionLevel" progression_name="perkWasteTreasuresComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Wasteland Treasures books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="wastelandProb">
					<requirement name="ProgressionLevel" progression_name="perkWasteTreasuresComplete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>
		</perk>
		<!-- end Salvage Operations Learn By Use (lbu)-->

		
		<!-- begin Boomstick Learn By Use (lbu)-->
		<perk name="lbu_Boomstick" max_level="100" parent="lbu_StrengthSkills" base_skill_point_cost="0" name_key="lbu_BoomstickName" desc_key="lbu_BoomstickDesc" long_desc_key="lbu_BoomstickDesc" icon="ui_game_symbol_shotgun">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkBoomstick"/>
				<requirement name="CVarCompare" cvar="lbu_Boomstick_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Boomstick_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkBoomstick"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,0.5" level="1,100" tags="perkBoomstick"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,0.25" level="1,100" tags="perkBoomstick"/>
				<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value=".01,.15" level="1,100" tags="perkBoomstick"/>
				<passive_effect name="RoundsPerMinute" operation="perc_add" value=".01,0.25" level="1,100" tags="perkBoomstick"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkBoomstick"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Boomstick_XP" operation="add" value="6">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_Boomstick_XP" operation="add" value="16"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkBoomstick"/>
				<requirement name="CVarCompare" cvar="lbu_Boomstick_XP" operation="GTE" value="@lbu_Boomstick_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Boomstick_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Boomstick_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_Boomstick" level="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Boomstick Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find shotguns and ammo with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="shotgunSkill"/>
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="ammoShells"/>

				<!-- Increase the chance to find shotgun crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="shotgunsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingShotguns" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once shotgun crafting skill reaches 100, set the probability bonus of finding shotgun crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="shotgunsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingShotguns" operation="Equals" value="100"/>
				</passive_effect>

				<!-- Increase the chance to find Shotgun Messiah books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="shotgunMessiahProb">
					<requirement name="ProgressionLevel" progression_name="perkShotgunMessiahComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Shotgun Messiah books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="shotgunMessiahProb">
					<requirement name="ProgressionLevel" progression_name="perkShotgunMessiahComplete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkBoomstick"/>
				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" buff="buffInjuryStunned01Shotgun">
					<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="LT" value="20"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" buff="buffInjuryStunned02Shotgun">
					<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="GTE" value="20"/>
					<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="LT" value="40"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" buff="buffInjuryStunned03Shotgun">
					<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="LT" value="80"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" target_tags="walker" buff="buffInjuryCrippled01">
					<requirement name="ProgressionLevel" progression_name="lbu_Boomstick" operation="GTE" value="50"/>
					<requirement name="HitLocation" body_parts="LeftUpperLeg,RightUpperLeg,LeftLowerLeg,RightLowerLeg"/>
				</triggered_effect>
			</effect_group>
		</perk>
		<!-- end Boomstick Learn By Use (lbu)-->
		
		<!-- begin Pummel Pete Learn By Use (lbu)-->
		<perk name="lbu_PummelPete" max_level="100" parent="lbu_StrengthSkills" base_skill_point_cost="0" name_key="lbu_PummelPeteName" desc_key="lbu_PummelPeteDesc" long_desc_key="lbu_PummelPeteDesc" icon="ui_game_symbol_stunned">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkPummelPete"/>
				<requirement name="CVarCompare" cvar="lbu_PummelPete_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_PummelPete_XPIncrement" operation="set" value="500"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_PP_StamIncrement" operation="set" value="0.3"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkPummelPete"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,0.5" level="1,100" tags="perkPummelPete"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,0.25" level="1,100" tags="perkPummelPete"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.01,1" level="1,100" tags="perkPummelPete">
					<requirement name="CVarCompare" cvar="_stunned" operation="Equals" value="1" target="other"/>
				</passive_effect>
					
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.08,-.11,-.15,-,17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="primary"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.07,-.11,-.15,-.17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="secondary"/>
				<!--For each level, Kills return +0.3% to Stamina up to a total of 15 at level 50 (half of Skull Pummel Pete lvl 5)-->
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="@lbu_PP_StamIncrement" delay="1.0"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkPummelPete"/>
				<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_PummelPete_XP" operation="add" value="6">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_PummelPete_XP" operation="add" value="18"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkPummelPete"/>
				<requirement name="CVarCompare" cvar="lbu_PummelPete_XP" operation="GTE" value="@lbu_PummelPete_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_PummelPete_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_PummelPete_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_PummelPete" level="1"/>
				<!--each level adds 0.3 to Stamina for kills for a total of 15 at level 50 (half of Pummel Pete lvl 5)-->
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_PP_StamIncrement" operation="add" value="0.3">
					<requirement name="CVarCompare" cvar="@lbu_PP_StamIncrement" operation="LTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Pummel Pete Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find clubs with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="clubSkill"/>

				<!-- Increase the chance to find club crafting skill magazines with each perk rank up to crafting skill 75 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="clubsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingClubs" operation="LT" value="75"/>
				</passive_effect>

				<!-- Once club crafting skill reaches 75, set the probability bonus of finding club crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="clubsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingClubs" operation="Equals" value="75"/>
				</passive_effect>

				<!-- Increase the chance to find Batter Up books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="batterUpProb">
					<requirement name="ProgressionLevel" progression_name="perkBatterUpComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Batter Up books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="batterUpProb">
					<requirement name="ProgressionLevel" progression_name="perkBatterUpComplete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>

			<!-- PUMMEL_PETE:SEXREX_REPLACEMENT -->
			<effect_group>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="5" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LT" value="80"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="10" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LT" value="100"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="15" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="100"/>
				</triggered_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkPummelPete"/>

				<triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".PummelPeteCombo" operation="add" value="1">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="60"/>
					<requirement name="NotHasBuff" buff="buffPerkPummelPeteBonus"/>
					<requirement name="IsAlive" target="other"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" buff="buffPerkPummelPete">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="60"/>
					<requirement name="NotHasBuff" buff="buffPerkPummelPeteBonus"/>
					<requirement name="IsAlive" target="other"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffStayDownKO">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="20"/>
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LT" value="40"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="60"/>
					<requirement name="CVarCompare" cvar="_stunned" operation="Equals" value="1" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffStayDownKO">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="40"/>
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LT" value="60"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="70"/>
					<requirement name="CVarCompare" cvar="_stunned" operation="Equals" value="1" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffStayDownKO">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LT" value="80"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="80"/>
					<requirement name="CVarCompare" cvar="_stunned" operation="Equals" value="1" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffStayDownKO">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="LT" value="100"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="90"/>
					<requirement name="CVarCompare" cvar="_stunned" operation="Equals" value="1" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffStayDownKO">
					<requirement name="ProgressionLevel" progression_name="lbu_PummelPete" operation="GTE" value="100"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="100"/>
					<requirement name="CVarCompare" cvar="_stunned" operation="Equals" value="1" target="other"/>
				</triggered_effect>
			</effect_group>
		</perk>
		<!-- end Pummel Pete Learn By Use (lbu)-->
		
		<!-- begin Skull Crusher Learn By Use (lbu)-->
		<perk name="lbu_SkullCrusher" max_level="100" parent="lbu_StrengthSkills" base_skill_point_cost="0" name_key="lbu_SkullCrusherName" desc_key="lbu_SkullCrusherDesc" long_desc_key="lbu_SkullCrusherDesc" icon="ui_game_symbol_sledge">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkSkullCrusher"/>
				<requirement name="CVarCompare" cvar="lbu_SkullCrusher_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SkullCrusher_XPIncrement" operation="set" value="500"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SC_StamIncrement" operation="set" value="0.3"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkSkullCrusher"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,1" level="1,100" tags="perkSkullCrusher"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,0.5" level="1,100" tags="perkSkullCrusher"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.08,-.11,-.15,-,17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="primary"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.07,-.11,-.15,-.17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="secondary"/>
				<!--Kills return Stamina: +0.3% stamina for each level up to max of 15 at level 50 (half of Skull Crusher Perk lvl 5)-->
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="@lbu_SC_StamIncrement" delay="1.0"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkSkullCrusher"/>
				<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SkullCrusher_XP" operation="add" value="8">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_SkullCrusher_XP" operation="add" value="20"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkSkullCrusher"/>
				<requirement name="CVarCompare" cvar="lbu_SkullCrusher_XP" operation="GTE" value="@lbu_SkullCrusher_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SkullCrusher_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SkullCrusher_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_SkullCrusher" level="1"/>
				<!--Kills return Stamina: +0.3% stamina for each level up to max of 15 at level 50 (half of Skull Crusher lvl 5)-->
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_SC_StamIncrement" operation="add" value="0.3">
					<requirement name="CVarCompare" cvar="@lbu_SC_StamIncrement" operation="LTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Skull Crusher Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="sledgeSkill"/>

				<!-- Increase the chance to find sledgehammer crafting skill magazines with each perk rank up to crafting skill 75 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="sledgehammersCSM">
					<requirement name="ProgressionLevel" progression_name="craftingSledgehammers" operation="LT" value="75"/>
				</passive_effect>

				<!-- Once sledgehammer crafting skill reaches 75, set the probability bonus of finding sledgehammer crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="sledgehammersCSM">
					<requirement name="ProgressionLevel" progression_name="craftingSledgehammers" operation="Equals" value="75"/>
				</passive_effect>
			</effect_group>

			<!-- SKULL_CRUSHER:SEXREX_REPLACEMENT -->
			<effect_group>
				<requirement name="ItemHasTags" tags="perkSkullCrusher"/>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="5" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="80"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="10" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="100"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="15" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="100"/>
				</triggered_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkSkullCrusher"/>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryKnockdown01">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="20"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="40"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryKnockdown01">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="40"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="60"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryKnockdown02">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="80"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="45"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryKnockdown02">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="100"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="60"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryKnockdown02">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="100"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="75"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="otherAOE" range="1.3" target_tags="zombie,animal" buff="buffInjuryKnockdown01">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="80"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="otherAOE" range="1.3" target_tags="zombie,animal" buff="buffInjuryKnockdown01">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="LT" value="100"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="35"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="otherAOE" range="1.4" target_tags="zombie,animal" buff="buffInjuryKnockdown01">
					<requirement name="ProgressionLevel" progression_name="lbu_SkullCrusher" operation="GTE" value="100"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="100"/>
				</triggered_effect>
			</effect_group>
		</perk>
		<!-- end Skull Crusher Learn By Use (lbu)-->
				
		<!-- begin Miner69er & Motherlode Learn By Use (lbu)-->
		<perk name="lbu_Miner69er" max_level="100" parent="lbu_StrengthSkills" base_skill_point_cost="0" name_key="lbu_Miner69erName" desc_key="lbu_Miner69erDesc" long_desc_key="lbu_Miner69erDesc" icon="ui_game_symbol_mining">
		
			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkMiner69r,perkMotherLode"/>
				<requirement name="CVarCompare" cvar="lbu_Miner69er_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Miner69er" operation="LTE" value="0"/>
				<!-- <triggered_effect trigger="onSelfEnteredGame" action="ModifyCVar" cvar="lbu_Miner69er_XPIncrement" operation="set" value="500"/> -->
				<triggered_effect trigger="onSelfHarvestBlock" action="ModifyCVar" cvar="lbu_Miner69er_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkMiner69r,perkMotherLode"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.01,1.5" level="1,100"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.01,0.5" level="1,100"/>
				<passive_effect name="HarvestCount" operation="perc_add" value="0.01,1" level="1,100"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.08,-.11,-.15,-,17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="primary"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.07,-.11,-.15,-.17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="secondary"/>
			</effect_group>
			
			<!--apply any level xp gain for harvest trigger-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkMiner69r,perkMotherLode"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Miner69er" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfHarvestBlock" action="ModifyCVar" cvar="lbu_Miner69er_XP" operation="add" value="4"/>
				<!-- add additional damage for destruction-->
				<triggered_effect trigger="onSelfDestroyedBlock" action="ModifyCVar" cvar="lbu_Miner69er_XP" operation="add" value="10"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkMiner69r,perkMotherLode"/>
				<requirement name="CVarCompare" cvar="lbu_Miner69er_XP" operation="GTE" value="@lbu_Miner69er_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Miner69er" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfHarvestBlock" action="ModifyCVar" cvar="lbu_Miner69er_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_Miner69er" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfHarvestBlock" action="ModifyCVar" cvar="lbu_Miner69er_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfHarvestBlock" action="AddProgressionLevel" progression_name="lbu_Miner69er" level="1"/>
				<triggered_effect trigger="onSelfHarvestBlock" action="ShowToolbeltMessage" message="Miner69r Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfHarvestBlock" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_Miner69er" operation="EQ" value="100"/>
				</triggered_effect>
					
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find harvesting tools with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="harvestingSkill"/>

				<!-- Increase the chance to find harvesting tools crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="harvestingToolsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingHarvestingTools" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once harvesting tools crafting skill reaches 100, set the probability bonus of finding harvesting tool crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="harvestingToolsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingHarvestingTools" operation="Equals" value="100"/>
				</passive_effect>

				<!-- Increase the chance to find Art of Mining books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="artOfMiningProb">
					<requirement name="ProgressionLevel" progression_name="perkArtOfMiningComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Art of Mining books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="artOfMiningProb">
					<requirement name="ProgressionLevel" progression_name="perkArtOfMiningComplete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>
		</perk>
		<!-- end Miner69er & Motherlode Learn By Use (lbu)-->
		
		
		<!-- begin Brawler Learn By Use (lbu)-->
		<perk name="lbu_Brawler" max_level="100" parent="lbu_FortitudeSkills" base_skill_point_cost="0" name_key="lbu_BrawlerName" desc_key="lbu_BrawlerDesc" long_desc_key="lbu_BrawlerDesc" icon="ui_game_symbol_boxer">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkBrawler"/>
				<requirement name="!ItemHasTags" tags="perkTurrets"/>
				<requirement name="CVarCompare" cvar="lbu_Brawler_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Brawler_XPIncrement" operation="set" value="500"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Brawler_StamIncrement" operation="set" value="0.3"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkBrawler"/>
				<requirement name="!ItemHasTags" tags="perkTurrets"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,1" level="1,100" tags="perkBrawler"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,0.5" level="1,100" tags="perkBrawler"/>

				<passive_effect name="StaminaLoss" operation="perc_add" value="-.08,-.11,-.15,-,17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="primary"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.07,-.11,-.15,-.17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="secondary"/>
				<!--Kills return Stamina: +0.3% stamina for each level up to max of 15 at level 50 (half of Brawler Perk lvl 5)-->
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="@lbu_Brawler_StamIncrement" delay="1.0"/>
					
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkBrawler"/>
				<requirement name="!ItemHasTags" tags="perkTurrets"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Brawler_XP" operation="add" value="6">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_Brawler_XP" operation="add" value="18"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkBrawler"/>
				<requirement name="!ItemHasTags" tags="perkTurrets"/>
				<requirement name="CVarCompare" cvar="lbu_Brawler_XP" operation="GTE" value="@lbu_Brawler_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Brawler_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Brawler_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_Brawler" level="1"/>
				<!--Kills return Stamina: +0.3% stamina for each level up to max of 15 at level 50 (half of Brawler Perk lvl 5)-->
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Brawler_StamIncrement" operation="add" value="0.3">
					<requirement name="CVarCompare" cvar="@lbu_Brawler_StamIncrement" operation="LTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Brawler Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find knuckles with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="knuckleSkill"/>

				<!-- Increase the chance to find knuckle crafting skill magazines with each perk rank up to crafting skill 75 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="knucklesCSM">
					<requirement name="ProgressionLevel" progression_name="craftingKnuckles" operation="LT" value="75"/>
				</passive_effect>

				<!-- Once knuckle crafting skill reaches 75, set the probability bonus of finding knuckle crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="knucklesCSM">
					<requirement name="ProgressionLevel" progression_name="craftingKnuckles" operation="Equals" value="75"/>
				</passive_effect>

				<!-- Increase the chance to find Bar Brawling books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="barBrawlingProb">
					<requirement name="ProgressionLevel" progression_name="perkBarBrawling8Complete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Bar Brawling books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="barBrawlingProb">
					<requirement name="ProgressionLevel" progression_name="perkBarBrawling8Complete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>

			<!-- BRAWLER:SEXREX_REPLACEMENT -->
			<effect_group>
				<requirement name="ItemHasTags" tags="perkBrawler"/>

				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="5" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="LT" value="80"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="10" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="LT" value="100"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="15" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="GTE" value="100"/>
				</triggered_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkBrawler"/>

				<passive_effect name="DismemberChance" operation="base_add" level="5" value=".2" tags="head"/>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffInjuryStunned01">
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="GTE" value="40"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
				</triggered_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkBrawler"/>
				<requirement name="HitLocation" body_parts="Head"/>
				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" target_tags="zombie,animal" buff="buffBrawlerNoTeeth">
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="GTE" value="20"/>
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="LT" value="60"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryKnockdown01">
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="LT" value="80"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="20"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryKnockdown01">
					<requirement name="ProgressionLevel" progression_name="lbu_Brawler" operation="GTE" value="80"/>
					<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="30"/>
				</triggered_effect>
			</effect_group>
		</perk>
		<!-- end Brawler Learn By Use (lbu)-->

		<!-- begin Machine Gunner Learn By Use (lbu)-->
		<perk name="lbu_MachineGunner" max_level="100" parent="lbu_FortitudeSkills" base_skill_point_cost="0" name_key="lbu_MachineGunnerName" desc_key="lbu_MachineGunnerDesc" long_desc_key="lbu_MachineGunnerDesc" icon="ui_game_symbol_rifle">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkMachineGunner"/>
				<requirement name="CVarCompare" cvar="lbu_MachineGunner_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_MachineGunner_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkMachineGunner"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,1" level="1,100" tags="perkMachineGunner"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,0.5" level="1,100" tags="perkMachineGunner"/>
				<passive_effect name="RoundsPerMinute" operation="perc_add" value="0.01,0.24" level="1,100" tags="perkMachineGunner"/>
				<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value="0.01,0.30" level="1,100" tags="perkMachineGunner"/>

			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkMachineGunner"/>
				<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_MachineGunner_XP" operation="add" value="5">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_MachineGunner_XP" operation="add" value="16"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkMachineGunner"/>
				<requirement name="CVarCompare" cvar="lbu_MachineGunner_XP" operation="GTE" value="@lbu_MachineGunner_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_MachineGunner_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_MachineGunner_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_MachineGunner" level="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Machinegunner Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="machinegunSkill"/>
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="ammo762mm"/>

				<!-- Increase the chance to find machine gun crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="machineGunsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingMachineGuns" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once machine gun crafting skill reaches 100, set the probability bonus of finding machine gun crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="machineGunsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingMachineGuns" operation="Equals" value="100"/>
				</passive_effect>

				<!-- Increase the chance to find Automatic Weapons Handbook books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="autoWeaponsProb">
					<requirement name="ProgressionLevel" progression_name="perkAutoWeaponsComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Automatic Weapons Handbook books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="autoWeaponsProb">
					<requirement name="ProgressionLevel" progression_name="perkAutoWeaponsComplete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkMachineGunner"/>

				<triggered_effect trigger="onSelfAttackedOther" action="ModifyStats" stat="Stamina" operation="add" value="2">
					<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="LT" value="80"/>
					<requirement name="IsAlive" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfAttackedOther" action="ModifyStats" stat="Stamina" operation="add" value="4">
					<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="LT" value="100"/>
					<requirement name="IsAlive" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfAttackedOther" action="ModifyStats" stat="Stamina" operation="add" value="6">
					<requirement name="ProgressionLevel" progression_name="lbu_MachineGunner" operation="GTE" value="100"/>
					<requirement name="IsAlive" target="other"/>
				</triggered_effect>
			</effect_group>
		</perk>
		<!-- end Machine Gunner Learn By Use (lbu)-->
		
		<!-- begin Archery Learn By Use (lbu)-->
		<perk name="lbu_Archery" max_level="100" parent="lbu_AgilitySkills" base_skill_point_cost="0" name_key="lbu_ArcheryName" desc_key="lbu_ArcheryDesc" long_desc_key="lbu_ArcheryDesc" icon="ui_game_symbol_archery">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkArchery"/>
				<requirement name="CVarCompare" cvar="lbu_Archery_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Archery" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Archery_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkArchery"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,1" level="1,100" tags="perkArchery"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,.5" level="1,100" tags="perkArchery"/>
				<passive_effect name="WeaponHandling" operation="perc_add" value=".01,.5" level="1,100" tags="perkArchery"/>
				<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value=".01,.3" level="1,100" tags="perkArchery"/>
				<passive_effect name="RoundsPerMinute" operation="perc_add" value=".01,.5" level="1,100" tags="bowDrawPenalty"/>

			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkArchery"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Archery" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Archery_XP" operation="add" value="12">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_Archery_XP" operation="add" value="24"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkArchery"/>
				<requirement name="CVarCompare" cvar="lbu_Archery_XP" operation="GTE" value="@lbu_Archery_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Archery" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Archery_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_Archery" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Archery_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_Archery" level="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Archery Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_Archery" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="bowSkill"/>

				<!-- Increase the chance to find bow crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="bowsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingBows" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once bow crafting skill reaches 100, set the probability bonus of finding bow crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="bowsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingBows" operation="Equals" value="100"/>
				</passive_effect>

				<!-- Increase the chance to find Ranger's Guide to Archery books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="rangersProb">
					<requirement name="ProgressionLevel" progression_name="perkRangersComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Ranger's Guide to Archery books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="rangersProb">
					<requirement name="ProgressionLevel" progression_name="perkRangersComplete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>
		</perk>
		<!-- end begin Archery Learn By Use (lbu)-->
		
		<!-- begin Gunslinger Learn By Use (lbu)-->
		<perk name="lbu_Gunslinger" max_level="100" parent="lbu_AgilitySkills" base_skill_point_cost="0" name_key="lbu_GunslingerName" desc_key="lbu_GunslingerDesc" long_desc_key="lbu_GunslingerDesc" icon="ui_game_symbol_gunslinger">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkGunslinger"/>
				<requirement name="CVarCompare" cvar="lbu_Gunslinger_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Gunslinger" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Gunslinger_XPIncrement" operation="set" value="500"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkGunslinger"/>
				<passive_effect name="BlockDamage" operation="perc_add" value="0.01,1" level="1,100" tags="perkGunslinger"/>
				<passive_effect name="EntityDamage" operation="perc_add" value="0.01,0.5" level="1,100" tags="perkGunslinger"/>
				<passive_effect name="RoundsPerMinute" operation="perc_add" value="0.01,0.25" level="1,100" tags="perkGunslinger"/>
				<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value="0.01,0.30" level="1,100" tags="perkGunslinger"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkGunslinger"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Gunslinger" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Gunslinger_XP" operation="add" value="6">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_Gunslinger_XP" operation="add" value="16"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkGunslinger"/>
				<requirement name="CVarCompare" cvar="lbu_Gunslinger_XP" operation="GTE" value="@lbu_Gunslinger_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Gunslinger" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Gunslinger_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_Gunslinger" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Gunslinger_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_Gunslinger" level="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Gunslinger Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_Gunslinger" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find handguns and ammo with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="handgunSkill"/>
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="ammo9mm"/>

				<!-- Increase the chance to find handgun crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="handgunsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingHandguns" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once handgun crafting skill reaches 100, set the probability bonus of finding handgun crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="handgunsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingHandguns" operation="Equals" value="100"/>
				</passive_effect>
				
				<!-- Increase the chance to find Pistol Pete books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="pistolPeteProb">
					<requirement name="ProgressionLevel" progression_name="perkPistolPeteComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Pistol Pete books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="pistolPeteProb">
					<requirement name="ProgressionLevel" progression_name="perkPistolPeteComplete" operation="Equals" value="1"/>
				</passive_effect>
				
				<!-- Increase the chance to find Magnum Enforcer books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="enforcerProb">
					<requirement name="ProgressionLevel" progression_name="perkEnforcerComplete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Magnum Enforcer books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="enforcerProb">
					<requirement name="ProgressionLevel" progression_name="perkEnforcerComplete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkGunslinger"/>
				<triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".GunslingerCombo" operation="add" value="1">
					<requirement name="ProgressionLevel" progression_name="lbu_Gunslinger" operation="GTE" value="60"/>
					<requirement name="NotHasBuff" buff="buffPerkGunslingerBonus"/>
					<requirement name="IsAlive" target="other"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfAttackedOther" action="AddBuff" buff="buffPerkGunslinger">
					<requirement name="ProgressionLevel" progression_name="lbu_Gunslinger" operation="GTE" value="60"/>
					<requirement name="NotHasBuff" buff="buffPerkGunslingerBonus"/>
					<requirement name="IsAlive" target="other"/>
				</triggered_effect>
			</effect_group>
		</perk>
		<!-- end gunslinger Learn By Use (lbu)-->
		
		<!-- begin Deep Cuts Learn By Use (lbu)-->
		<perk name="lbu_DeepCuts" max_level="100" parent="lbu_AgilitySkills" base_skill_point_cost="0" name_key="lbu_DeepCutsName" desc_key="lbu_DeepCutsDesc" long_desc_key="lbu_DeepCutsDesc" icon="ui_game_symbol_deep_cuts">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDeepCuts"/>
				<requirement name="CVarCompare" cvar="lbu_DeepCuts_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DeepCuts_XPIncrement" operation="set" value="500"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DCuts_StamIncrement" operation="set" value="0.3"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDeepCuts"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,1" level="1,100" tags="perkDeepCuts"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,.5" level="1,100" tags="perkDeepCuts"/>
					
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.08,-.11,-.15,-,17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="primary"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.07,-.11,-.15,-.17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="secondary"/>
				<!--Kills return Stamina: +0.3% stamina for each level up to max of 15 at level 50 (half of Deep Cuts lvl 5)-->
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="@lbu_DCuts_StamIncrement" delay="1.0"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDeepCuts"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DeepCuts_XP" operation="add" value="6">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_DeepCuts_XP" operation="add" value="18"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkDeepCuts"/>
				<requirement name="CVarCompare" cvar="lbu_DeepCuts_XP" operation="GTE" value="@lbu_DeepCuts_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DeepCuts_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DeepCuts_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_DeepCuts" level="1"/>
				<!--Kills return Stamina: +0.3% stamina for each level up to max of 15 at level 50 (half of Deep Cuts lvl 5)-->
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_DCuts_StamIncrement" operation="add" value="0.3">
					<requirement name="CVarCompare" cvar="@lbu_DCuts_StamIncrement" operation="LTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Deep Cuts Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<!-- Increase the chance to find blades with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="bladeSkill"/>

				<!-- Increase the chance to find blade crafting skill magazines with each perk rank up to crafting skill 75 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="bladesCSM">
					<requirement name="ProgressionLevel" progression_name="craftingBlades" operation="LT" value="75"/>
				</passive_effect>

				<!-- Once blade crafting skill reaches 75, set the probability bonus of finding salvage tools crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="bladesCSM">
					<requirement name="ProgressionLevel" progression_name="craftingBlades" operation="Equals" value="75"/>
				</passive_effect>
			</effect_group>

			<!-- DEEP_CUTS:SEXREX_REPLACEMENT -->
			<effect_group>
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="5" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="80"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="10" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="100"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="15" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="100"/>
				</triggered_effect>
			</effect_group>

			<effect_group name="primary, always">
				<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="@$maxBleedCounter" target="other"/>
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="1"/>
			</effect_group>

			<effect_group>
				<!-- all attacks refresh / extend bleeding even if no stacks can be added -->
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<requirement name="CVarCompare" cvar="bleedCounter" operation="GT" value="0" target="other"/>
				<triggered_effect trigger="onSelfPrimaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
			</effect_group>

			<effect_group name="Secondary">
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="set" value="2">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="20"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="2" target="other"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="set" value="3">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="20"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="Equals" value="2" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="2">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="20"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="2" target="other"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="set" value="4">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="40"/>
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="60"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="GTE" value="1" target="other"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="4" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="3">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="40"/>
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="60"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="2" target="other"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="set" value="5">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="80"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="GTE" value="1" target="other"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="5" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="4">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="80"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="2" target="other"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="set" value="6">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="100"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="GTE" value="2" target="other"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="6" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="4">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="100"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="2" target="other"/>
				</triggered_effect>

				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="set" value="7">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="100"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="GTE" value="2" target="other"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="7" target="other"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="5">
					<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="100"/>
					<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="2" target="other"/>
				</triggered_effect>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="20"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="60"/>
				<requirement name="CVarCompare" cvar="$bleedSlowdown" operation="GT" value="-.1" target="other"/>
				<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar="$bleedSlowdown" operation="set" value="-.1"/>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="$bleedSlowdown" operation="set" value="-.1"/>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="60"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="LT" value="100"/>
				<requirement name="CVarCompare" cvar="$bleedSlowdown" operation="GT" value="-.15" target="other"/>
				<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar="$bleedSlowdown" operation="set" value="-.15"/>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="$bleedSlowdown" operation="set" value="-.15"/>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="100"/>
				<requirement name="CVarCompare" cvar="$bleedSlowdown" operation="GT" value="-.2" target="other"/>
				<triggered_effect trigger="onSelfPrimaryActionRayHit" action="ModifyCVar" target="other" cvar="$bleedSlowdown" operation="set" value="-.2"/>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="ModifyCVar" target="other" cvar="$bleedSlowdown" operation="set" value="-.2"/>
			</effect_group>

			<effect_group name="grazing hits T3">
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="60"/>
				<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="5" target="other"/>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="40"/>
				<triggered_effect trigger="onSelfPrimaryActionGrazeHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="1"/>
				<triggered_effect trigger="onSelfSecondaryActionGrazeHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="1"/>
				<triggered_effect trigger="onSelfPrimaryActionGrazeHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
				<triggered_effect trigger="onSelfSecondaryActionGrazeHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
			</effect_group>

			<effect_group name="grazing hits T4">
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="80"/>
				<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="6" target="other"/>
				<requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="70"/>
				<triggered_effect trigger="onSelfPrimaryActionGrazeHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="1"/>
				<triggered_effect trigger="onSelfSecondaryActionGrazeHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="1"/>
				<triggered_effect trigger="onSelfPrimaryActionGrazeHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
				<triggered_effect trigger="onSelfSecondaryActionGrazeHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
			</effect_group>

			<effect_group name="grazing hits T5">
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<requirement name="ProgressionLevel" progression_name="lbu_DeepCuts" operation="GTE" value="100"/>
				<requirement name="CVarCompare" cvar="bleedCounter" operation="LT" value="7" target="other"/>
				<triggered_effect trigger="onSelfPrimaryActionGrazeHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="1"/>
				<triggered_effect trigger="onSelfSecondaryActionGrazeHit" action="ModifyCVar" target="other" cvar="bleedCounter" operation="add" value="1"/>
				<triggered_effect trigger="onSelfPrimaryActionGrazeHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
				<triggered_effect trigger="onSelfSecondaryActionGrazeHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
			</effect_group>

			<effect_group>
				<requirement name="ItemHasTags" tags="perkDeepCuts"/>
				<triggered_effect trigger="onSelfPrimaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
				<triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddBuff" target="other" buff="buffInjuryBleeding"/>
			</effect_group>
		</perk>
		<!-- end Deep Cuts Learn By Use (lbu)-->
		
		<!-- begin Electrocutioner Learn By Use (lbu)-->
		<perk name="lbu_Electrocutioner" max_level="100" parent="lbu_IntellectSkills" base_skill_point_cost="0" name_key="lbu_ElectrocutionerName" desc_key="lbu_ElectrocutionerDesc" long_desc_key="lbu_ElectrocutionerDesc" icon="ui_game_symbol_electric_power">

			<!--initialise if first time-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkElectrocutioner"/>
				<requirement name="CVarCompare" cvar="lbu_Electrocutioner_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Electrocutioner_XPIncrement" operation="set" value="500"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Elec_StamIncrement" operation="set" value="0.3"/>
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkElectrocutioner"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,1" level="1,100" tags="perkElectrocutioner"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,.5" level="1,100" tags="perkElectrocutioner"/>
					
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.08,-.11,-.15,-,17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="primary"/>
				<passive_effect name="StaminaLoss" operation="perc_add" value="-.07,-.11,-.15,-.17,-.2,-.25,-.25,-.25,-.25,-.25" level="1,11,21,31,41,51,61,71,81,91" tags="secondary"/>
				<!--Kills return Stamina: +0.3% stamina for each level up to max of 15 at level 50 (half of Electrocutioner lvl 5)-->
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="@lbu_Elec_StamIncrement" delay="1.0"/>
			
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkElectrocutioner"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Electrocutioner_XP" operation="add" value="6">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_Electrocutioner_XP" operation="add" value="18"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="HoldingItemHasTags" tags="perkElectrocutioner"/>
				<requirement name="CVarCompare" cvar="lbu_Electrocutioner_XP" operation="GTE" value="@lbu_Electrocutioner_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Electrocutioner_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Electrocutioner_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_Electrocutioner" level="1"/>
				<!--Kills return Stamina: +0.3% stamina for each level up to max of 15 at level 50 (half of Electrocutioner lvl 5)-->
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Elec_StamIncrement" operation="add" value="0.3">
					<requirement name="CVarCompare" cvar="@lbu_Elec_StamIncrement" operation="LTE" value="15"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Electrocutioner Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="roboticsSkill"/>

				<!-- Increase the chance to find robotic crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="roboticsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingRobotics" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once robotic crafting skill reaches 100, set the probability bonus of finding robotic crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="roboticsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingRobotics" operation="Equals" value="100"/>
				</passive_effect>

				<!-- Increase the chance to find Tech Junkie books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="techJunkieProb">
					<requirement name="ProgressionLevel" progression_name="perkTechJunkie8Complete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Tech Junkie books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="techJunkieProb">
					<requirement name="ProgressionLevel" progression_name="perkTechJunkie8Complete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>

			<!-- ELECTROCUTIONER:SEXREX_REPLACEMENT -->
			<effect_group>
				<requirement name="ItemHasTags" tags="perkElectrocutioner"/>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="10" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="GTE" value="60"/>
					<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="LT" value="80"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="20" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="GTE" value="80"/>
					<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="LT" value="100"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyStats" stat="Stamina" operation="add" value="30" delay="1.0">
					<requirement name="ProgressionLevel" progression_name="lbu_Electrocutioner" operation="GTE" value="100"/>
				</triggered_effect>
			</effect_group>
		</perk>
		<!-- end Electrocutioner Learn By Use (lbu)-->
		
		<!-- begin Robotics Learn By Use (lbu)-->
		<perk name="lbu_Robotics" max_level="100" parent="lbu_IntellectSkills" base_skill_point_cost="0" name_key="lbu_RoboticsName" desc_key="lbu_RoboticsDesc" long_desc_key="lbu_RoboticsDesc" icon="ui_game_symbol_electric_turret">
			<!--initialise if first time-->
			<effect_group>
				<requirement name="ItemHasTags" tags="perkTurrets"/>
				<requirement name="CVarCompare" cvar="lbu_Robotics_XP" operation="LTE" value="0"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Robotics" operation="LTE" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Robotics_XPIncrement" operation="set" value="500"/>
				<!--<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Setup Robotics"/>-->
			</effect_group>
			
			<!--apply current effect as per level-->
			<effect_group>
				<requirement name="ItemHasTags" tags="perkTurrets"/>
				<passive_effect name="RoundsPerMinute" operation="perc_add" value=".01,.50" level="1,100" tags="turretMelee"/>
				<passive_effect name="ReloadSpeedMultiplier" operation="perc_add" value="0.01,0.2" level="1,100" tags="perkTurrets"/>
				<passive_effect name="MagazineSize" operation="base_add" value="0,50" level="1,100" tags="perkTurrets">
					<requirement name="!ItemHasTags" tags="turretMelee"/>
				</passive_effect>
				<passive_effect name="RoundsPerMinute" operation="perc_add" value=".01,1.5" level="1,100" tags="turretRanged"/>
				<passive_effect name="EntityDamage" operation="perc_add" value=".01,0.4" level="1,100" tags="perkTurrets"/>
				<passive_effect name="BlockDamage" operation="perc_add" value=".01,0.4" level="1,100" tags="turretMelee"/>
			</effect_group>
	
			<!--apply any level xp gain for damage or kill triggers-->
			<effect_group>
				<requirement name="ItemHasTags" tags="perkTurrets"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Robotics" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Robotics_XP" operation="add" value="8">
					<requirement name="StatCompareCurrent" target="other" stat="health" operation="GT" value="0"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="lbu_Robotics_XP" operation="add" value="16"/>
			</effect_group>
			
			<!--Increase ProgressLevel if xp greater than value for next level-->
			<effect_group>
				<requirement name="ItemHasTags" tags="perkTurrets"/>
				<requirement name="CVarCompare" cvar="lbu_Robotics_XP" operation="GTE" value="@lbu_Robotics_XPIncrement"/>
				<requirement name="ProgressionLevel" progression_name="lbu_Robotics" operation="LT" value="100"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Robotics_XPIncrement" operation="multiply" value="1.045">
					<!--taper off level xp increase at level 47 (xxx_XPIncrement about 4000). xxx_XPIncrement will grow to 4700  without the cap-->
					<requirement name="ProgressionLevel" progression_name="lbu_Robotics" operation="LTE" value="46"/>
				</triggered_effect>
				<triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="lbu_Robotics_XP" operation="set" value="0"/>
				<triggered_effect trigger="onSelfDamagedOther" action="AddProgressionLevel" progression_name="lbu_Robotics" level="1"/>
				<triggered_effect trigger="onSelfDamagedOther" action="ShowToolbeltMessage" message="Robotics Skill Increased!"/>
				<!--if max level then give free Skill Point-->
				<triggered_effect trigger="onSelfDamagedOther" action="CallGameEvent" event="lbu_action_give_points">
					<requirement name="ProgressionLevel" progression_name="lbu_Robotics" operation="EQ" value="100"/>
				</triggered_effect>
			</effect_group>
			
			<effect_group>

				<passive_effect name="JunkTurretActiveCount" operation="base_set" value="0"/>
				<passive_effect name="JunkTurretActiveCount" operation="base_add" level="50" value="1"/>
				<passive_effect name="JunkTurretActiveCount" operation="base_add" level="100" value="2"/>
				<!-- JunkTurretActiveCount,  default=1,  A value of 0 means that 1 turret can be active. Value of 2 means 3 turrets will be active. -->
				<passive_effect name="JunkTurretActiveRange" operation="base_set" level="0,20,40,60,80,100" value="10,14,15,16,17,18"/>

				<!-- Increase the chance to find batons and turrets with each perk rank -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="roboticsSkill"/>

				<!-- Increase the chance to find robotic crafting skill magazines with each perk rank up to crafting skill 100 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="roboticsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingRobotics" operation="LT" value="100"/>
				</passive_effect>

				<!-- Once robotic crafting skill reaches 100, set the probability bonus of finding robotic crafting skill magazines to 0 -->
				<passive_effect name="LootProb" operation="base_set" level="1,100" value="1,1" tags="roboticsCSM">
					<requirement name="ProgressionLevel" progression_name="craftingRobotics" operation="Equals" value="100"/>
				</passive_effect>

				<!-- Increase the chance to find Tech Junkie books until each book is read -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="2,10" tags="techJunkieProb">
					<requirement name="ProgressionLevel" progression_name="perkTechJunkie8Complete" operation="LT" value="1"/>
				</passive_effect>

				<!-- When all Tech Junkie books have been read, set the probability bonus of finding them to 0 -->
				<passive_effect name="LootProb" operation="perc_add" level="2,100" value="1,1" tags="techJunkieProb">
					<requirement name="ProgressionLevel" progression_name="perkTechJunkie8Complete" operation="Equals" value="1"/>
				</passive_effect>
			</effect_group>
		</perk>
		<!-- end Robotics Learn By Use (lbu)-->
		<!--end Learn-By-Use ALL code -->
	</append>
</configs>